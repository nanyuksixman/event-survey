<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ì´ë²¤íŠ¸ ê²°ê³¼ í™•ì¸</title>
    <style>
        body { font-family: 'Apple SD Gothic Neo', sans-serif; text-align: center; padding-top: 50px; background-color: #f9f9f9; }
        h2 { color: #333; margin-bottom: 30px; }
        #status { font-size: 16px; color: #555; line-height: 1.6; padding: 20px; }
        .code-box { 
            background: white; padding: 20px 40px; font-size: 28px; 
            font-weight: bold; color: #d32f2f; margin: 30px auto; 
            width: fit-content; border: 3px dashed #d32f2f; border-radius: 15px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
            display: none; 
        }
        .loader { font-size: 40px; margin-bottom: 20px; animation: spin 1s infinite linear; display: inline-block;}
        @keyframes spin { 100% { transform: rotate(360deg); } }
    </style>
    
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/@emailjs/browser@3/dist/email.min.js"></script>
    
    <script type="text/javascript">
        (function() {
            // íšŒì›ë‹˜ì˜ Public Key
            emailjs.init("1eClXvyi7Cegunx5J"); 
        })();
    </script>
</head>
<body>
    <h2>ğŸ í–‰ìš´ê¶Œ ì¶”ì²¨ ê²°ê³¼</h2>
    
    <div id="loading">
        <div class="loader">ğŸ”®</div>
        <div>ê²°ê³¼ë¥¼ í™•ì¸í•˜ëŠ” ì¤‘ì…ë‹ˆë‹¤...</div>
    </div>

    <div id="status" style="display:none;"></div>
    
    <div id="winCode" class="code-box"></div>

    <script>
        // ============================================================
        // [ì¤‘ìš”] í…ŒìŠ¤íŠ¸ê°€ ëë‚˜ë©´ ìˆ«ìë¥¼ ë°”ê¾¸ì„¸ìš”!
        // ì§€ê¸ˆì€ í…ŒìŠ¤íŠ¸ë¥¼ ìœ„í•´ 1 (100% ë‹¹ì²¨)ë¡œ í•´ë†¨ìŠµë‹ˆë‹¤.
        // ì‹¤ì œ ë°°í¬í•  ë•ŒëŠ” ì•„ë˜ ìˆ«ìë¥¼ 1/30 ìœ¼ë¡œ ê³ ì¹˜ì„¸ìš”.
        var winRate = 1; 
        // ============================================================

        function generateCode() {
            return Math.random().toString(36).substr(2, 6).toUpperCase();
        }

        function sendEmail(code) {
            var templateParams = { message: code };
            
            // ìˆ˜ì •ëœ ID ì ìš© ì™„ë£Œ!
            emailjs.send('service_yzbru09', 'template_ynu7hlo', templateParams)
                .then(function(response) {
                    // ì„±ê³µ ì‹œ
                    alert("âœ… ë©”ì¼ ì „ì†¡ ì„±ê³µ!\nê´€ë¦¬ì ë©”ì¼í•¨ì„ í™•ì¸í•´ë³´ì„¸ìš”.");
                    console.log('SUCCESS!', response.status, response.text);
                }, function(error) {
                    // ì‹¤íŒ¨ ì‹œ
                    alert("âŒ ë©”ì¼ ì „ì†¡ ì‹¤íŒ¨...\nì—ëŸ¬: " + JSON.stringify(error));
                    console.log('FAILED...', error);
                });
        }

        window.onload = function() {
            setTimeout(function() {
                var randomNum = Math.random();
                
                document.getElementById('loading').style.display = 'none';
                document.getElementById('status').style.display = 'block';

                if (randomNum < winRate) {
                    // [ë‹¹ì²¨]
                    var myCode = generateCode();
                    
                    document.getElementById('status').innerHTML = 
                        "<b>ğŸ‰ ì¶•í•˜í•©ë‹ˆë‹¤! ë‹¹ì²¨ë˜ì…¨ìŠµë‹ˆë‹¤!</b><br><br>" +
                        "ì•„ë˜ <span style='color:red'>ê²€ì¦ ì½”ë“œ</span>ë¥¼ ìº¡ì²˜í•´ì„œ<br>" +
                        "ë‹´ë‹¹ìì—ê²Œ ë³´ë‚´ì£¼ì„¸ìš”.";
                    
                    var codeBox = document.getElementById('winCode');
                    codeBox.innerText = myCode;
                    codeBox.style.display = 'block';

                    // ë©”ì¼ ë°œì†¡
                    sendEmail(myCode); 

                } else {
                    // [ê½]
                    document.getElementById('status').innerHTML = 
                        "ì•„ì‰½ê²Œë„ ë‹¹ì²¨ë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤. ğŸ˜­<br>ì°¸ì—¬í•´ ì£¼ì…”ì„œ ê°ì‚¬í•©ë‹ˆë‹¤.";
                }
            }, 1500);
        };
    </script>
</body>
</html>
