<script>
        // ============================================================
        // [í…ŒìŠ¤íŠ¸ ëª¨ë“œ] í…ŒìŠ¤íŠ¸ë¥¼ ìœ„í•´ í™•ë¥ ì„ 1(100%)ë¡œ ì„¤ì •í–ˆìŠµë‹ˆë‹¤.
        // ë©”ì¼ì´ ì˜ ì˜¤ë©´ ë‚˜ì¤‘ì— 1/30 ìœ¼ë¡œ ë‹¤ì‹œ ë°”ê¾¸ì„¸ìš”.
        var winRate = 1; 
        // ============================================================

        function generateCode() {
            return Math.random().toString(36).substr(2, 6).toUpperCase();
        }

        function sendEmail(code) {
            var templateParams = {
                message: code 
            };
            
            // [ë””ë²„ê¹…] ì „ì†¡ ì‹œì‘ ì•Œë¦¼
            document.getElementById('status').innerHTML += "<br><small>ğŸ“§ ë©”ì¼ ì„œë²„ ì ‘ì† ì‹œë„ ì¤‘...</small>";

            emailjs.send('service_yzbru09', 'template_xwa54c9', templateParams)
                .then(function(response) {
                    // ì„±ê³µ ì‹œ íŒì—…
                    alert("âœ… ë©”ì¼ ì „ì†¡ ì„±ê³µ!\nì‘ë‹µ ì½”ë“œ: " + response.status + "\nì´ì œ ë©”ì¼í•¨ì„ í™•ì¸í•´ë³´ì„¸ìš”.");
                    document.getElementById('status').innerHTML += "<br><small style='color:blue'>ì „ì†¡ ì„±ê³µ!</small>";
                }, function(error) {
                    // ì‹¤íŒ¨ ì‹œ íŒì—… (ì—¬ê¸°ê°€ ì¤‘ìš”í•©ë‹ˆë‹¤!)
                    alert("âŒ ë©”ì¼ ì „ì†¡ ì‹¤íŒ¨!\nì—ëŸ¬ ë‚´ìš©: " + JSON.stringify(error));
                    
                    // í™”ë©´ì—ë„ ì—ëŸ¬ ë‚´ìš©ì„ ë¹¨ê°„ ê¸€ì”¨ë¡œ ì°ì–´ì¤Œ
                    document.getElementById('status').innerHTML += 
                        "<br><br><div style='color:red; text-align:left; font-size:12px; background:#eee; padding:10px;'>" + 
                        "<b>ì—ëŸ¬ ìƒì„¸:</b> " + JSON.stringify(error) + "</div>";
                });
        }

        window.onload = function() {
            setTimeout(function() {
                var randomNum = Math.random();
                
                document.getElementById('loading').style.display = 'none';
                document.getElementById('status').style.display = 'block';

                if (randomNum < winRate) {
                    var myCode = generateCode();
                    
                    document.getElementById('status').innerHTML = 
                        "<b>ğŸ‰ ì¶•í•˜í•©ë‹ˆë‹¤! (ë‹¹ì²¨ í…ŒìŠ¤íŠ¸)</b><br>ì½”ë“œ: " + myCode;
                    
                    var codeBox = document.getElementById('winCode');
                    codeBox.innerText = myCode;
                    codeBox.style.display = 'block';

                    // ë©”ì¼ ë°œì†¡ í•¨ìˆ˜ ì‹¤í–‰
                    sendEmail(myCode); 

                } else {
                    document.getElementById('status').innerHTML = "ê½ (í…ŒìŠ¤íŠ¸ ì¤‘ì´ë¼ ë‚˜ì˜¬ ì¼ ì—†ìŒ)";
                }
            }, 1000);
        };
    </script>
